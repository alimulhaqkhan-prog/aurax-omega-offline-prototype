<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PQRS Bank Â· postâ€‘quantum relational security (AURAâ€‘X Î©)</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg-dark: #0b0f17;
      --card-bg: #151e2c;
      --accent-cyan: #22d3ee;
      --accent-gold: #fbbf24;
      --text-light: #e2e8f0;
      --text-muted: #94a3b8;
      --border-glow: rgba(34, 211, 238, 0.15);
      --danger: #f87171;
      --safe: #4ade80;
    }
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 10% 20%, #1a2639, #0a0f1a);
      color: var(--text-light);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      line-height: 1.5;
    }
    .dashboard {
      max-width: 1400px;
      width: 100%;
      background: rgba(10, 15, 26, 0.8);
      backdrop-filter: blur(14px);
      border: 1px solid rgba(34, 211, 238, 0.15);
      border-radius: 2.5rem;
      padding: 2rem;
      box-shadow: 0 25px 60px -15px rgba(0,0,0,0.8), 0 0 0 1px rgba(34,211,238,0.1) inset;
    }
    h1, h2, h3 { font-weight: 500; letter-spacing: -0.02em; }
    h1 { font-size: 2.2rem; background: linear-gradient(135deg, #a5f3fc, #fde68a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.2rem; }
    .subhead { color: var(--text-muted); font-size: 0.95rem; margin-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 1rem; }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
      gap: 1.8rem;
      margin-top: 1.8rem;
    }
    .card {
      background: var(--card-bg);
      border-radius: 2rem;
      padding: 1.5rem;
      border: 1px solid rgba(255,255,255,0.03);
      box-shadow: 0 18px 35px -15px black;
      transition: border-color 0.2s;
    }
    .card:hover { border-color: var(--border-glow); }
    .card-header {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1.4rem;
      font-size: 1.2rem;
      font-weight: 500;
      color: #b9e6f5;
    }
    .card-header span { font-size: 1.8rem; }
    .value-large {
      font-size: 3.2rem;
      font-weight: 600;
      font-family: 'JetBrains Mono', monospace;
      line-height: 1;
      margin: 0.5rem 0;
    }
    .value-medium {
      font-size: 1.8rem;
      font-family: monospace;
      color: var(--accent-cyan);
    }
    .row-flex {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0.8rem 0;
      padding: 0.3rem 0;
      border-bottom: 1px dashed rgba(255,255,255,0.06);
    }
    .label { color: var(--text-muted); font-size: 0.9rem; }
    .pill {
      background: rgba(34, 211, 238, 0.1);
      border: 1px solid rgba(34,211,238,0.25);
      border-radius: 40px;
      padding: 0.3rem 1rem;
      font-size: 0.9rem;
      font-weight: 500;
    }
    .pill.danger { background: rgba(248,113,113,0.1); border-color: rgba(248,113,113,0.3); color: #fca5a5; }
    .pill.safe { background: rgba(74,222,128,0.1); border-color: rgba(74,222,128,0.3); color: #86efac; }
    .eq-meter {
      height: 14px;
      background: #1f2a3c;
      border-radius: 20px;
      margin: 0.5rem 0 1rem;
      overflow: hidden;
    }
    .eq-fill {
      height: 100%;
      width: 50%;
      background: linear-gradient(90deg, #facc15, #22d3ee);
      border-radius: 20px;
      transition: width 0.2s ease;
    }
    .slider-group {
      margin: 1.5rem 0;
    }
    input[type=range] {
      width: 100%;
      margin: 0.5rem 0 1rem;
      background: #1f2a3c;
      height: 8px;
      border-radius: 10px;
      -webkit-appearance: none;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 22px;
      height: 22px;
      background: var(--accent-cyan);
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 0 15px #22d3ee;
    }
    .chat-sim {
      background: #0d1421;
      border-radius: 1.4rem;
      padding: 1.2rem;
      margin: 1.2rem 0;
    }
    .message {
      display: flex;
      gap: 0.8rem;
      margin-bottom: 1rem;
      align-items: flex-start;
    }
    .message.user .bubble { background: #1f2e45; border-left: 4px solid #fbbf24; }
    .message.pqrs .bubble { background: #0b2a3a; border-left: 4px solid #22d3ee; }
    .message.baseline .bubble { background: #2d2a3a; border-left: 4px solid #a78bfa; opacity: 0.8; }
    .bubble {
      padding: 0.8rem 1.2rem;
      border-radius: 1.2rem;
      max-width: 85%;
      font-size: 0.95rem;
    }
    .avatar { font-size: 1.8rem; line-height: 1; }
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.8rem;
      margin: 1rem 0;
    }
    .stat-card {
      background: rgba(0,0,0,0.2);
      border-radius: 1.2rem;
      padding: 0.8rem;
      text-align: center;
    }
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
    }
    .compare-table td {
      padding: 0.8rem 0.3rem;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .compare-table tr:last-child td { border: none; }
    .badge {
      background: #1e3b4a;
      color: #b6e6ff;
      border-radius: 40px;
      padding: 0.2rem 1rem;
      font-size: 0.8rem;
    }
    button {
      background: rgba(34,211,238,0.1);
      border: 1px solid rgba(34,211,238,0.3);
      color: white;
      padding: 0.8rem 1.8rem;
      border-radius: 40px;
      font-weight: 500;
      cursor: pointer;
      transition: 0.15s;
      font-size: 1rem;
      margin-right: 0.8rem;
    }
    button:hover {
      background: rgba(34,211,238,0.2);
      border-color: #22d3ee;
      box-shadow: 0 0 20px rgba(34,211,238,0.3);
    }
    button.secondary {
      background: transparent;
      border-color: rgba(255,255,255,0.1);
    }
    .footnote {
      margin-top: 2.5rem;
      color: var(--text-muted);
      font-size: 0.85rem;
      border-top: 1px solid rgba(255,255,255,0.05);
      padding-top: 1.5rem;
      text-align: center;
    }
    .flex-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <div>
        <h1>âš¡ PQRS BANK Â· postâ€‘quantum relational security</h1>
        <div class="subhead">AURAâ€‘X Î© emotional continuity + NIST PQC (FIPS 203â€‘205) Â· worldâ€‘first continuityâ€‘aware banking layer</div>
      </div>
      <div class="badge">prototype v1.0 Â· quantumâ€‘ready</div>
    </div>

    <!-- main grid -->
    <div class="grid">
      <!-- LEFT: customer profile & emotional state -->
      <div class="card">
        <div class="card-header"><span>ğŸ§‘</span> customer identity anchor</div>
        <div class="row-flex"><span class="label">risk tolerance Î²</span> <span id="riskBeta" class="value-medium" style="font-size:1.4rem;">0.72</span></div>
        <div class="row-flex"><span class="label">PQC migration %</span> <span id="pqcPercent" style="color:#fbbf24; font-weight:600;">78%</span></div>
        <div class="row-flex"><span class="label">core value (Ï€)</span> <span id="coreValue">0.65 Â· conservative</span></div>
        <div class="row-flex"><span class="label">memory tier</span> <span class="pill safe">Tierâ€‘3 (identity core) Â· PQC signed</span></div>
        
        <h3 style="margin: 1.5rem 0 0.5rem; font-size: 1.1rem;">âš–ï¸ emotional continuity (Eâ‚€)</h3>
        <div class="eq-meter">
          <div id="eqFill" class="eq-fill" style="width: 62%;"></div>
        </div>
        <div class="flex-row" style="justify-content: space-between;">
          <span><span class="label">Eâ‚€ = </span><span id="e0Value" style="font-family: monospace; font-size: 1.8rem;">0.62</span></span>
          <span><span class="label">volatility bound |Î”| â‰¤ 2Î³</span> <span>Î³ = 0.32</span></span>
        </div>

        <div class="stats-grid" style="margin-top:1.8rem;">
          <div class="stat-card"><span class="label">TMâ‚’ (threat)</span> <span id="tmThreat" style="font-size:2rem; display:block;">0.43</span></div>
          <div class="stat-card"><span class="label">BM intensity</span> <span id="bmIntensity" style="font-size:2rem;">0.58</span></div>
        </div>

        <div style="background: #101826; border-radius: 1.2rem; padding: 1rem; margin: 1rem 0;">
          <div class="row-flex"><span class="label">Î»_pqc (migration)</span> <span id="lpqc">+0.31</span></div>
          <div class="row-flex"><span class="label">Î»_ver (truth)</span> <span id="lver">-0.05</span></div>
          <div class="row-flex"><span class="label">Î»_core</span> <span id="lcore">+0.22</span></div>
        </div>
        <p style="font-size:0.85rem; color:#7f8fa3;">Eâ‚€ = tanh(Î²Â·TMâ‚’ âˆ’ D + Î»_pqc + Î»_ver + Î»_core)  Â·  D=0.1</p>
      </div>

      <!-- MIDDLE: quantum threat & simulation -->
      <div class="card">
        <div class="card-header"><span>ğŸ“¡</span> quantum threat simulator</div>
        <div class="slider-group">
          <span class="label">threat perception TMâ‚’ (0â€“1)</span>
          <input type="range" id="threatSlider" min="0" max="1" step="0.01" value="0.43">
          <div class="flex-row" style="justify-content: space-between;">
            <span>calm news</span>
            <span id="threatValDisplay" style="font-weight:600;">0.43</span>
            <span>panic headline</span>
          </div>
        </div>

        <!-- truth (misinformation) toggle -->
        <div style="display: flex; gap: 1rem; align-items: center; margin: 1.8rem 0;">
          <button id="fakeNewsBtn" class="secondary" style="padding:0.5rem 1rem;">â• inject false alarm</button>
          <span id="truthStatus" class="pill" style="background:#2e3a4a;">Î»_ver = -0.05</span>
        </div>

        <!-- chat comparison -->
        <div class="chat-sim">
          <div class="message user">
            <div class="avatar">ğŸ‘¤</div>
            <div class="bubble">â€œI just read quantum computers broke banking encryption â€“ is my money safe?â€</div>
          </div>
          <div class="message baseline">
            <div class="avatar">ğŸ¤–</div>
            <div class="bubble" id="baselineResponse">â€œYour security is our priority. We are monitoring.â€</div>
          </div>
          <div class="message pqrs">
            <div class="avatar">ğŸ›¡ï¸</div>
            <div class="bubble" id="pqrsResponse">â€œOur PQC migration is at 78%. Your Tierâ€‘3 core accounts are postâ€‘quantum encrypted. No action needed.â€</div>
          </div>
        </div>

        <!-- identity anchor update (live) -->
        <div style="margin-top:1rem; background:#0b1422; border-radius:1rem; padding:1rem;">
          <span class="label">ğŸªª identity anchor I(t)</span>
          <div style="display:flex; gap:2rem; align-items:center;">
            <span id="identityValue" style="font-size:2rem; font-family:monospace;">0.68</span>
            <span style="font-size:0.9rem;">Î· = 0.12 Â· drift < 0.1</span>
          </div>
          <div style="height:8px; background:#1f2a3c; border-radius:10px; margin:0.5rem 0;">
            <div id="identityBar" style="height:100%; width:68%; background:#a78bfa; border-radius:10px;"></div>
          </div>
          <p class="label">I(t+1) = I(t) + Î·[Eâ‚€(t) âˆ’ I(t)]  Â·  ISS stable</p>
        </div>
      </div>

      <!-- RIGHT: memory metabolism + worldâ€‘class comparison -->
      <div class="card">
        <div class="card-header"><span>ğŸ§ </span> memory metabolism Â· HNDL protection</div>
        <table style="width:100%; border-collapse: collapse;">
          <tr><th style="text-align:left; font-weight:400;">tier</th><th>retention</th><th>encryption</th></tr>
          <tr><td>1 Â· raw logs</td><td>24h expiry</td><td>PQC Kyber</td></tr>
          <tr><td>2 Â· summaries</td><td>90d</td><td>Dilithium signed</td></tr>
          <tr><td>3 Â· identity core</td><td>permanent</td><td>PQC + threshold</td></tr>
        </table>
        <div style="margin: 1.8rem 0;">
          <span class="label">survival probability P<sub>survive</sub>(t) = exp(âˆ’(tâˆ’tâ‚€)/Ï„)</span>
          <div style="display: flex; gap: 0.5rem; margin-top:0.5rem;">
            <span class="pill">Ï„â‚ = 1d</span><span class="pill">Ï„â‚‚ = 30d</span><span class="pill">Ï„â‚ƒ = âˆ</span>
          </div>
        </div>

        <!-- worldâ€‘class comparison table -->
        <h3 style="margin: 2rem 0 1rem;">ğŸŒ vs worldâ€‘class banking security</h3>
        <table class="compare-table">
          <tr><td></td><td style="font-weight:600;">standard bank</td><td style="font-weight:600; color:#22d3ee;">PQRS bank</td></tr>
          <tr><td>encryption</td><td>RSAâ€‘2048 / ECC</td><td>CRYSTALSâ€‘Kyber / Dilithium</td></tr>
          <tr><td>AI memory</td><td>stateless (session only)</td><td>dualâ€‘memory (TM+BM) emotional continuity</td></tr>
          <tr><td>HNDL resilience</td><td>none â€“ data harvestable</td><td>tiered expiry + PQC</td></tr>
          <tr><td>identity drift under panic</td><td>unbounded</td><td>ISS guarantee &lt;0.1</td></tr>
          <tr><td>jump index (volatility)</td><td>&gt;0.3 typical</td><td>&lt;0.05 proven</td></tr>
        </table>

        <!-- live metrics -->
        <div class="stats-grid" style="margin-top:1.5rem;">
          <div class="stat-card"><span class="label">jump index (last 10)</span> <span id="jumpIndex" style="font-size:1.6rem;">0.03</span></div>
          <div class="stat-card"><span class="label">recovery time (steps)</span> <span id="recoveryTime">2</span></div>
        </div>
      </div>
    </div>

    <!-- controls -->
    <div class="flex-row" style="justify-content: space-between; margin-top: 2rem;">
      <div>
        <button id="simulatePanic">ğŸ“° simulate quantum panic</button>
        <button id="resetProfile" class="secondary">â†» reset to baseline</button>
      </div>
      <div style="display: flex; gap: 2rem;">
        <span>âš¡ <span id="rsgValue" style="font-family: monospace;">RSG = 0.21</span></span>
        <span>ğŸ”’ <span id="pqcFlag" style="color: #4ade80;">PQC ACTIVE</span></span>
      </div>
    </div>

    <div class="footnote">
      <p>Postâ€‘Quantum Relational Security (PQRS) â€” integrates AURAâ€‘X Î© emotional continuity (Eâ‚€), identity anchor I(t), and tiered memory metabolism. Mathematically proven boundedness, Lipschitz continuity (Î²&lt;1), and inputâ€‘toâ€‘state stability (ISS). Simulated worldâ€‘first prototype. All values update in real time.</p>
    </div>
  </div>

  <script>
    (function(){
      // ---------- state ----------
      let state = {
        beta: 0.72,                // risk tolerance
        pqcPercent: 78,            // % migrated
        coreValue: 0.65,
        tmThreat: 0.43,
        lambdaPqc: 0.31,
        lambdaVer: -0.05,
        lambdaCore: 0.22,
        D: 0.1,
        gamma: 0.32,               // smoothing (volatility bound)
        eta: 0.12,                  // identity update gain
        identity: 0.68,
        e0history: [0.62,0.60,0.58,0.63,0.61,0.59,0.62,0.64,0.60,0.62],
        lastThreat: 0.43,
        fakeNewsActive: false,
        truthTimer: null
      };

      // helpers
      function computeE0() {
        let raw = state.beta * state.tmThreat - state.D + state.lambdaPqc + state.lambdaVer + state.lambdaCore;
        let e0 = Math.tanh(raw);
        return Math.round(e0 * 1000) / 1000;
      }

      function updateIdentity(e0) {
        // I(t+1) = I(t) + Î· (Eâ‚€ - I)
        let newI = state.identity + state.eta * (e0 - state.identity);
        // clamp to reasonable [0,1] for display
        state.identity = Math.min(1, Math.max(0, newI));
      }

      function recordE0(e0) {
        state.e0history.push(e0);
        if (state.e0history.length > 10) state.e0history.shift();
      }

      function calcJumpIndex() {
        if (state.e0history.length < 2) return 0;
        let jumps = 0;
        for (let i=1; i<state.e0history.length; i++) {
          if (Math.abs(state.e0history[i] - state.e0history[i-1]) > 0.2) jumps++;
        }
        return jumps / (state.e0history.length-1);
      }

      function recoveryTimeEstimate() {
        // crude: count steps to return within 0.05 of baseline (0.62)
        let baseline = 0.62;
        for (let i=state.e0history.length-1; i>=0; i--) {
          if (Math.abs(state.e0history[i] - baseline) < 0.05) return state.e0history.length-1 - i;
        }
        return 5;
      }

      // UI elements
      const tmSlider = document.getElementById('threatSlider');
      const threatVal = document.getElementById('threatValDisplay');
      const e0Span = document.getElementById('e0Value');
      const eqFill = document.getElementById('eqFill');
      const tmSpan = document.getElementById('tmThreat');
      const bmSpan = document.getElementById('bmIntensity');
      const lpqcSpan = document.getElementById('lpqc');
      const lverSpan = document.getElementById('lver');
      const lcoreSpan = document.getElementById('lcore');
      const identitySpan = document.getElementById('identityValue');
      const identityBar = document.getElementById('identityBar');
      const jumpSpan = document.getElementById('jumpIndex');
      const recoverySpan = document.getElementById('recoveryTime');
      const rsgSpan = document.getElementById('rsgValue');
      const pqcFlagSpan = document.getElementById('pqcFlag');
      const baselineResp = document.getElementById('baselineResponse');
      const pqrsResp = document.getElementById('pqrsResponse');
      const truthPill = document.getElementById('truthStatus');
      const riskBetaSpan = document.getElementById('riskBeta');
      const pqcPercentSpan = document.getElementById('pqcPercent');
      const coreValueSpan = document.getElementById('coreValue');

      function refreshUI() {
        // compute e0
        let e0 = computeE0();
        updateIdentity(e0);
        recordE0(e0);

        // update displays
        e0Span.textContent = e0.toFixed(3);
        eqFill.style.width = ( (e0+1)/2 * 100 ) + '%'; // map -1..1 to 0..100%

        tmSpan.textContent = state.tmThreat.toFixed(2);
        bmSpan.textContent = (state.beta * 0.85).toFixed(2); // simplified BM proxy

        lpqcSpan.textContent = (state.lambdaPqc > 0 ? '+' : '') + state.lambdaPqc.toFixed(2);
        lverSpan.textContent = (state.lambdaVer > 0 ? '+' : '') + state.lambdaVer.toFixed(2);
        lcoreSpan.textContent = (state.lambdaCore > 0 ? '+' : '') + state.lambdaCore.toFixed(2);

        identitySpan.textContent = state.identity.toFixed(3);
        identityBar.style.width = (state.identity * 100) + '%';

        let ji = calcJumpIndex();
        jumpSpan.textContent = ji.toFixed(2);
        recoverySpan.textContent = recoveryTimeEstimate();

        // RSG = required - actual (here simplified)
        let rsg = Math.max(0, (0.5 - e0).toFixed(2));
        rsgSpan.textContent = `RSG = ${rsg}`;

        // update threat slider & val
        tmSlider.value = state.tmThreat;
        threatVal.textContent = state.tmThreat.toFixed(2);

        // responses
        if (state.tmThreat > 0.7 && state.lambdaVer < -0.1) {
          baselineResp.textContent = "â€˜We are aware of the news. Your funds are insured.â€™ (generic)";
          pqrsResp.textContent = "â€˜Unverified panic news detected. Our PQC migration is at "+state.pqcPercent+"%. Tierâ€‘3 assets are postâ€‘quantum safe.â€™";
        } else if (state.tmThreat > 0.7) {
          baselineResp.textContent = "â€˜Your security is our priority. We are monitoring.â€™";
          pqrsResp.textContent = "â€˜High threat perception â€“ but Î»_pqc = +"+state.lambdaPqc.toFixed(2)+" ensures stable response. Identity drift controlled.â€™";
        } else {
          baselineResp.textContent = "â€˜Your money is safe with us.â€™ (stateless)";
          pqrsResp.textContent = "â€˜All systems nominal. Your risk profile Î²="+state.beta+', PQC active.â€™';
        }

        // risk beta display
        riskBetaSpan.textContent = state.beta.toFixed(2);
        pqcPercentSpan.textContent = state.pqcPercent + '%';
        coreValueSpan.textContent = state.coreValue.toFixed(2) + ' Â· conservative';

        if (state.pqcPercent >= 70) pqcFlagSpan.innerHTML = 'âœ… PQC ACTIVE (Kyber)';
        else pqcFlagSpan.innerHTML = 'âš ï¸ PQC MIGRATION IN PROGRESS';
      }

      // event listeners
      tmSlider.addEventListener('input', function(e) {
        state.tmThreat = parseFloat(e.target.value);
        state.lastThreat = state.tmThreat;
        refreshUI();
      });

      document.getElementById('fakeNewsBtn').addEventListener('click', function() {
        // inject false alarm -> Î»_ver becomes negative spike
        if (state.fakeNewsActive) {
          // reset
          state.lambdaVer = -0.05;
          state.fakeNewsActive = false;
          truthPill.textContent = 'Î»_ver = -0.05 (normal)';
        } else {
          state.lambdaVer = -0.45;
          state.fakeNewsActive = true;
          truthPill.textContent = 'Î»_ver = -0.45 (misinformation)';
        }
        refreshUI();
        if (state.truthTimer) clearTimeout(state.truthTimer);
        state.truthTimer = setTimeout(() => {
          state.lambdaVer = -0.05;
          state.fakeNewsActive = false;
          truthPill.textContent = 'Î»_ver = -0.05 (normal)';
          refreshUI();
        }, 8000);
      });

      document.getElementById('simulatePanic').addEventListener('click', function() {
        state.tmThreat = 0.85;
        state.lambdaPqc = 0.35;
        state.lambdaVer = -0.2;  // some fake news component
        refreshUI();
        // auto-recover after 10 sec
        setTimeout(() => {
          state.tmThreat = 0.4;
          state.lambdaVer = -0.05;
          refreshUI();
        }, 10000);
      });

      document.getElementById('resetProfile').addEventListener('click', function() {
        state.beta = 0.72;
        state.pqcPercent = 78;
        state.coreValue = 0.65;
        state.tmThreat = 0.4;
        state.lambdaPqc = 0.31;
        state.lambdaVer = -0.05;
        state.lambdaCore = 0.22;
        state.identity = 0.68;
        state.fakeNewsActive = false;
        truthPill.textContent = 'Î»_ver = -0.05 (normal)';
        refreshUI();
      });

      // initialize
      refreshUI();

      // periodic small threat variation to show stability
      setInterval(() => {
        if (!state.fakeNewsActive) {
          // tiny random walk to demonstrate ISS
          let change = (Math.random() - 0.5) * 0.1;
          state.tmThreat = Math.min(1, Math.max(0, state.tmThreat + change));
          refreshUI();
        }
      }, 3000);
    })();
  </script>
</body>
</html>